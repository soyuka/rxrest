"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)},RxRestProxyHandler=function(){function t(e){classCallCheck(this,t),this.$internal=[],this.$instance=e;do{this.$internal=this.$internal.concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e))}while(e=Object.getPrototypeOf(e))}return createClass(t,[{key:"getPrototypeOf",value:function(t){return Object.getPrototypeOf(this.$instance)}},{key:"defineProperty",value:function(t,e,r){return!!~this.$internal.indexOf(e)||(Object.defineProperty(t,e,r),!0)}},{key:"deleteProperty",value:function(t,e){return delete t[e]}},{key:"set",value:function(t,e,r,o){return~this.$internal.indexOf(e)?(this.$instance[e]=r,!0):(!0===this.$instance.$pristine&&t[e]!==r&&(this.$instance.$pristine=!1),t[e]=r,!0)}},{key:"get",value:function(t,e,r){return~this.$internal.indexOf(e)?this.$instance[e]:t[e]}}]),t}(),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var __window="undefined"!=typeof window&&window,__self="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,__global=void 0!==commonjsGlobal&&commonjsGlobal,_root=__window||__global||__self,root_1=_root;!function(){if(!_root)throw new Error("RxJS could not find any global context (window, self, global)")}();var root={root:root_1};function isFunction(t){return"function"==typeof t}var isFunction_2=isFunction,isFunction_1={isFunction:isFunction_2},isArray_1=Array.isArray||function(t){return t&&"number"==typeof t.length},isArray={isArray:isArray_1};function isObject(t){return null!=t&&"object"==typeof t}var tryCatchTarget,isObject_2=isObject,isObject_1={isObject:isObject_2},errorObject_1={e:{}},errorObject={errorObject:errorObject_1};function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(t){return errorObject.errorObject.e=t,errorObject.errorObject}}function tryCatch(t){return tryCatchTarget=t,tryCatcher}var tryCatch_2=tryCatch,tryCatch_1={tryCatch:tryCatch_2},__extends$1=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},UnsubscriptionError=function(t){function e(e){t.call(this),this.errors=e;var r=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=r.name="UnsubscriptionError",this.stack=r.stack,this.message=r.message}return __extends$1(e,t),e}(Error),UnsubscriptionError_2=UnsubscriptionError,UnsubscriptionError_1={UnsubscriptionError:UnsubscriptionError_2},Subscription=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,o=this._parents,i=this._unsubscribe,n=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,c=o?o.length:0;r;)r.remove(this),r=++s<c&&o[s]||null;if(isFunction_1.isFunction(i))tryCatch_1.tryCatch(i).call(this)===errorObject.errorObject&&(e=!0,t=t||(errorObject.errorObject.e instanceof UnsubscriptionError_1.UnsubscriptionError?flattenUnsubscriptionErrors(errorObject.errorObject.e.errors):[errorObject.errorObject.e]));if(isArray.isArray(n))for(s=-1,c=n.length;++s<c;){var u=n[s];if(isObject_1.isObject(u))if(tryCatch_1.tryCatch(u.unsubscribe).call(u)===errorObject.errorObject){e=!0,t=t||[];var a=errorObject.errorObject.e;a instanceof UnsubscriptionError_1.UnsubscriptionError?t=t.concat(flattenUnsubscriptionErrors(a.errors)):t.push(a)}}if(e)throw new UnsubscriptionError_1.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var o=r;(r=new t)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}(),Subscription_2=Subscription;function flattenUnsubscriptionErrors(t){return t.reduce(function(t,e){return t.concat(e instanceof UnsubscriptionError_1.UnsubscriptionError?e.errors:e)},[])}var Subscription_1={Subscription:Subscription_2},empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}},Observer={empty:empty},rxSubscriber=createCommonjsModule(function(t,e){var r=root.root.Symbol;e.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),rxSubscriber_1=rxSubscriber.rxSubscriber,rxSubscriber_2=rxSubscriber.$$rxSubscriber,__extends$2=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},Subscriber=function(t){function e(r,o,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Observer.empty;break;case 1:if(!r){this.destination=Observer.empty;break}if("object"==typeof r){r instanceof e?(this.syncErrorThrowable=r.syncErrorThrowable,this.destination=r,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,r));break}default:this.syncErrorThrowable=!0,this.destination=new SafeSubscriber(this,r,o,i)}}return __extends$2(e,t),e.prototype[rxSubscriber.rxSubscriber]=function(){return this},e.create=function(t,r,o){var i=new e(t,r,o);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(Subscription_1.Subscription),Subscriber_2=Subscriber,SafeSubscriber=function(t){function e(e,r,o,i){var n;t.call(this),this._parentSubscriber=e;var s=this;isFunction_1.isFunction(r)?n=r:r&&(n=r.next,o=r.error,i=r.complete,r!==Observer.empty&&(s=Object.create(r),isFunction_1.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=n,this._error=o,this._complete=i}return __extends$2(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){throw this.unsubscribe(),t}},e.prototype.__tryOrSetError=function(t,e,r){try{e.call(this._context,r)}catch(e){return t.syncErrorValue=e,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Subscriber),Subscriber_1={Subscriber:Subscriber_2};function toSubscriber(t,e,r){if(t){if(t instanceof Subscriber_1.Subscriber)return t;if(t[rxSubscriber.rxSubscriber])return t[rxSubscriber.rxSubscriber]()}return t||e||r?new Subscriber_1.Subscriber(t,e,r):new Subscriber_1.Subscriber(Observer.empty)}var toSubscriber_2=toSubscriber,toSubscriber_1={toSubscriber:toSubscriber_2},observable=createCommonjsModule(function(t,e){function r(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}e.getSymbolObservable=r,e.observable=r(root.root),e.$$observable=e.observable}),observable_1=observable.getSymbolObservable,observable_2=observable.observable,observable_3=observable.$$observable;function noop(){}var noop_2=noop,noop_1={noop:noop_2};function pipe(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return pipeFromArray(t)}var pipe_2=pipe;function pipeFromArray(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:noop_1.noop}var pipeFromArray_1=pipeFromArray,pipe_1={pipe:pipe_2,pipeFromArray:pipeFromArray_1},Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var o=this.operator,i=toSubscriber_1.toSubscriber(t,e,r);if(o?o.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var r=this;if(e||(root.root.Rx&&root.root.Rx.config&&root.root.Rx.config.Promise?e=root.root.Rx.config.Promise:root.root.Promise&&(e=root.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,o){var i;i=r.subscribe(function(e){if(i)try{t(e)}catch(t){o(t),i.unsubscribe()}else t(e)},o,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[observable.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:pipe_1.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(root.root.Rx&&root.root.Rx.config&&root.root.Rx.config.Promise?t=root.root.Rx.config.Promise:root.root.Promise&&(t=root.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,r){var o;e.subscribe(function(t){return o=t},function(t){return r(t)},function(){return t(o)})})},t.create=function(e){return new t(e)},t}(),Observable_2=Observable,Observable_1={Observable:Observable_2},__extends$3=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},PromiseObservable=function(t){function e(e,r){t.call(this),this.promise=e,this.scheduler=r}return __extends$3(e,t),e.create=function(t,r){return new e(t,r)},e.prototype._subscribe=function(t){var e=this,r=this.promise,o=this.scheduler;if(null==o)this._isScalar?t.closed||(t.next(this.value),t.complete()):r.then(function(r){e.value=r,e._isScalar=!0,t.closed||(t.next(r),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){root.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return o.schedule(dispatchNext,0,{value:this.value,subscriber:t})}else r.then(function(r){e.value=r,e._isScalar=!0,t.closed||t.add(o.schedule(dispatchNext,0,{value:r,subscriber:t}))},function(e){t.closed||t.add(o.schedule(dispatchError,0,{err:e,subscriber:t}))}).then(null,function(t){root.root.setTimeout(function(){throw t})})},e}(Observable_1.Observable),PromiseObservable_2=PromiseObservable;function dispatchNext(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function dispatchError(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}var PromiseObservable_1={PromiseObservable:PromiseObservable_2},fromPromise_1=PromiseObservable_1.PromiseObservable.create,fromPromise={fromPromise:fromPromise_1};Observable_1.Observable.fromPromise=fromPromise.fromPromise;var isArrayLike_1=function(t){return t&&"number"==typeof t.length},isArrayLike={isArrayLike:isArrayLike_1};function isPromise(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var isPromise_2=isPromise,isPromise_1={isPromise:isPromise_2},iterator=createCommonjsModule(function(t,e){function r(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&"function"==typeof(new r)["@@iterator"])return"@@iterator";var o=t.Map;if(o)for(var i=Object.getOwnPropertyNames(o.prototype),n=0;n<i.length;++n){var s=i[n];if("entries"!==s&&"size"!==s&&o.prototype[s]===o.prototype.entries)return s}return"@@iterator"}e.symbolIteratorPonyfill=r,e.iterator=r(root.root),e.$$iterator=e.iterator}),iterator_1=iterator.symbolIteratorPonyfill,iterator_2=iterator.iterator,iterator_3=iterator.$$iterator,__extends$4=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},InnerSubscriber=function(t){function e(e,r,o){t.call(this),this.parent=e,this.outerValue=r,this.outerIndex=o,this.index=0}return __extends$4(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Subscriber_1.Subscriber),InnerSubscriber_2=InnerSubscriber,InnerSubscriber_1={InnerSubscriber:InnerSubscriber_2};function subscribeToResult(t,e,r,o){var i=new InnerSubscriber_1.InnerSubscriber(t,r,o);if(i.closed)return null;if(e instanceof Observable_1.Observable)return e._isScalar?(i.next(e.value),i.complete(),null):(i.syncErrorThrowable=!0,e.subscribe(i));if(isArrayLike.isArrayLike(e)){for(var n=0,s=e.length;n<s&&!i.closed;n++)i.next(e[n]);i.closed||i.complete()}else{if(isPromise_1.isPromise(e))return e.then(function(t){i.closed||(i.next(t),i.complete())},function(t){return i.error(t)}).then(null,function(t){root.root.setTimeout(function(){throw t})}),i;if(e&&"function"==typeof e[iterator.iterator])for(var c=e[iterator.iterator]();;){var u=c.next();if(u.done){i.complete();break}if(i.next(u.value),i.closed)break}else if(e&&"function"==typeof e[observable.observable]){var a=e[observable.observable]();if("function"==typeof a.subscribe)return a.subscribe(new InnerSubscriber_1.InnerSubscriber(t,r,o));i.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var h="You provided "+(isObject_1.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(h))}}return null}var subscribeToResult_2=subscribeToResult,subscribeToResult_1={subscribeToResult:subscribeToResult_2},__extends$5=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},OuterSubscriber=function(t){function e(){t.apply(this,arguments)}return __extends$5(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Subscriber_1.Subscriber),OuterSubscriber_2=OuterSubscriber,OuterSubscriber_1={OuterSubscriber:OuterSubscriber_2},__extends$6=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)};function mergeMap(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(o){return"number"==typeof e&&(r=e,e=null),o.lift(new MergeMapOperator(t,e,r))}}var mergeMap_2=mergeMap,MergeMapOperator=function(){function t(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY),this.project=t,this.resultSelector=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new MergeMapSubscriber(t,this.project,this.resultSelector,this.concurrent))},t}(),MergeMapOperator_1=MergeMapOperator,MergeMapSubscriber=function(t){function e(e,r,o,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.project=r,this.resultSelector=o,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends$6(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){this.add(subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){this.resultSelector?this._notifyResultSelector(t,e,r,o):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,r,o){var i;try{i=this.resultSelector(t,e,r,o)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),MergeMapSubscriber_1=MergeMapSubscriber,mergeMap_1={mergeMap:mergeMap_2,MergeMapOperator:MergeMapOperator_1,MergeMapSubscriber:MergeMapSubscriber_1};function mergeMap$1(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),mergeMap_1.mergeMap(t,e,r)(this)}var mergeMap_3=mergeMap$1,mergeMap_2$1={mergeMap:mergeMap_3};Observable_1.Observable.prototype.mergeMap=mergeMap_2$1.mergeMap,Observable_1.Observable.prototype.flatMap=mergeMap_2$1.mergeMap;var __extends$7=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ErrorObservable=function(t){function e(e,r){t.call(this),this.error=e,this.scheduler=r}return __extends$7(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.error;t.subscriber.error(e)},e.prototype._subscribe=function(t){var r=this.error,o=this.scheduler;if(t.syncErrorThrowable=!0,o)return o.schedule(e.dispatch,0,{error:r,subscriber:t});t.error(r)},e}(Observable_1.Observable),ErrorObservable_2=ErrorObservable,ErrorObservable_1={ErrorObservable:ErrorObservable_2},_throw_1=ErrorObservable_1.ErrorObservable.create,_throw={_throw:_throw_1};function concatMap(t,e){return mergeMap_1.mergeMap(t,e,1)}Observable_1.Observable.throw=_throw._throw;var concatMap_2=concatMap,concatMap_1={concatMap:concatMap_2};function concatMap$1(t,e){return concatMap_1.concatMap(t,e)(this)}var concatMap_3=concatMap$1,concatMap_2$1={concatMap:concatMap_3};Observable_1.Observable.prototype.concatMap=concatMap_2$1.concatMap;var __extends$8=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)};function catchError(t){return function(e){var r=new CatchOperator(t),o=e.lift(r);return r.caught=o}}var catchError_2=catchError,CatchOperator=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new CatchSubscriber(t,this.selector,this.caught))},t}(),CatchSubscriber=function(t){function e(e,r,o){t.call(this,e),this.selector=r,this.caught=o}return __extends$8(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(subscribeToResult_1.subscribeToResult(this,r))}},e}(OuterSubscriber_1.OuterSubscriber),catchError_1={catchError:catchError_2};function _catch(t){return catchError_1.catchError(t)(this)}var _catch_2=_catch,_catch_1={_catch:_catch_2};Observable_1.Observable.prototype.catch=_catch_1._catch,Observable_1.Observable.prototype._catch=_catch_1._catch;var __extends$9=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ScalarObservable=function(t){function e(e,r){t.call(this),this.value=e,this.scheduler=r,this._isScalar=!0,r&&(this._isScalar=!1)}return __extends$9(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.done,r=t.value,o=t.subscriber;e?o.complete():(o.next(r),o.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.value,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{done:!1,value:r,subscriber:t});t.next(r),t.closed||t.complete()},e}(Observable_1.Observable),ScalarObservable_2=ScalarObservable,ScalarObservable_1={ScalarObservable:ScalarObservable_2},__extends$10=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},EmptyObservable=function(t){function e(e){t.call(this),this.scheduler=e}return __extends$10(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var r=this.scheduler;if(r)return r.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(Observable_1.Observable),EmptyObservable_2=EmptyObservable,EmptyObservable_1={EmptyObservable:EmptyObservable_2};function isScheduler(t){return t&&"function"==typeof t.schedule}var isScheduler_2=isScheduler,isScheduler_1={isScheduler:isScheduler_2},__extends$11=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ArrayObservable=function(t){function e(e,r){t.call(this),this.array=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return __extends$11(e,t),e.create=function(t,r){return new e(t,r)},e.of=function(){for(var t=[],r=0;r<arguments.length;r++)t[r-0]=arguments[r];var o=t[t.length-1];isScheduler_1.isScheduler(o)?t.pop():o=null;var i=t.length;return i>1?new e(t,o):1===i?new ScalarObservable_1.ScalarObservable(t[0],o):new EmptyObservable_1.EmptyObservable(o)},e.dispatch=function(t){var e=t.array,r=t.index,o=t.count,i=t.subscriber;r>=o?i.complete():(i.next(e[r]),i.closed||(t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.array,o=r.length,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{array:r,index:0,count:o,subscriber:t});for(var n=0;n<o&&!t.closed;n++)t.next(r[n]);t.complete()},e}(Observable_1.Observable),ArrayObservable_2=ArrayObservable,ArrayObservable_1={ArrayObservable:ArrayObservable_2},of_1=ArrayObservable_1.ArrayObservable.of,of={of:of_1};function objectToMap(t,e){for(var r in e)if(Array.isArray(e[r]))for(var o=0;o<e[r].length;o++)t.append(r,e[r][o]);else t.append(r,e[r]);return t}function uuid(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t++<36;e+=51*t&52?(15^t?8^Math.random()*(20^t?16:4):4).toString(16):"-");return e}Observable_1.Observable.of=of.of;var componentEmitter=createCommonjsModule(function(t){function e(t){if(t)return function(t){for(var r in e.prototype)t[r]=e.prototype[r];return t}(t)}t.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,o=this._callbacks["$"+t];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<o.length;i++)if((r=o[i])===e||r.fn===e){o.splice(i,1);break}return this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks["$"+t];if(r)for(var o=0,i=(r=r.slice(0)).length;o<i;++o)r[o].apply(this,e);return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}});function isObject$1(t){return null!==t&&"object"==typeof t}var isObject_1$1=isObject$1,requestBase=RequestBase;function RequestBase(t){if(t)return mixin(t)}function mixin(t){for(var e in RequestBase.prototype)t[e]=RequestBase.prototype[e];return t}RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(t){return this._parser=t,this},RequestBase.prototype.responseType=function(t){return this._responseType=t,this},RequestBase.prototype.serialize=function(t){return this._serializer=t,this},RequestBase.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},RequestBase.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];RequestBase.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(t,e);if(!0===r)return!0;if(!1===r)return!1}catch(t){console.error(t)}if(e&&e.status&&e.status>=500&&501!=e.status)return!0;if(t){if(t.code&&~ERROR_CODES.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(t,e){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(t,e){r.end(function(r,o){r?e(r):t(o)})})}return this._fullfilledPromise.then(t,e)},RequestBase.prototype.catch=function(t){return this.then(void 0,t)},RequestBase.prototype.use=function(t){return t(this),this},RequestBase.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},RequestBase.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):t.status>=200&&t.status<300)},RequestBase.prototype.get=function(t){return this._header[t.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(t,e){if(isObject_1$1(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},RequestBase.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},RequestBase.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),isObject_1$1(t)){for(var r in t)this.field(r,t[r]);return this}if(Array.isArray(e)){for(var o in e)this.field(t,e[o]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype._auth=function(t,e,r,o){switch(r.type){case"basic":this.set("Authorization","Basic "+o(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},RequestBase.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},RequestBase.prototype.redirects=function(t){return this._maxRedirects=t,this},RequestBase.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(t){var e=isObject_1$1(t),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&isObject_1$1(this._data))for(var o in t)this._data[o]=t[o];else"string"==typeof t?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(r||this.type("json"),this)},RequestBase.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},RequestBase.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(e>=0){var r=this.url.substring(e+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,e)+"?"+r.join("&")}}},RequestBase.prototype._appendQueryString=function(){console.trace("Unsupported")},RequestBase.prototype._timeoutError=function(t,e,r){if(!this._aborted){var o=new Error(t+e+"ms exceeded");o.timeout=e,o.code="ECONNABORTED",o.errno=r,this.timedout=!0,this.abort(),this.callback(o)}},RequestBase.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))};var type=function(t){return t.split(/ *; */).shift()},params=function(t){return t.split(/ *; */).reduce(function(t,e){var r=e.split(/ *= */),o=r.shift(),i=r.shift();return o&&i&&(t[o]=i),t},{})},parseLinks=function(t){return t.split(/ *, */).reduce(function(t,e){var r=e.split(/ *; */),o=r[0].slice(1,-1);return t[r[1].split(/ *= */)[1].slice(1,-1)]=o,t},{})},cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t},utils={type:type,params:params,parseLinks:parseLinks,cleanHeader:cleanHeader},responseBase=ResponseBase;function ResponseBase(t){if(t)return mixin$1(t)}function mixin$1(t){for(var e in ResponseBase.prototype)t[e]=ResponseBase.prototype[e];return t}function Agent(){this._defaults=[]}ResponseBase.prototype.get=function(t){return this.header[t.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=utils.type(e);var r=utils.params(e);for(var o in r)this[o]=r[o];this.links={};try{t.link&&(this.links=utils.parseLinks(t.link))}catch(t){}},ResponseBase.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t},["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(t){Agent.prototype[t]=function(){return this._defaults.push({fn:t,arguments:arguments}),this}}),Agent.prototype._setDefaults=function(t){this._defaults.forEach(function(e){t[e.fn].apply(t,e.arguments)})};var agentBase=Agent,client=createCommonjsModule(function(t,e){var r;function o(){}"undefined"!=typeof window?r=window:"undefined"!=typeof self?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=commonjsGlobal);var i=e=t.exports=function(t,r){return"function"==typeof r?new e.Request("GET",t).end(r):1==arguments.length?new e.Request("GET",t):new e.Request(t,r)};e.Request=l,i.getXHR=function(){if(!(!r.XMLHttpRequest||r.location&&"file:"==r.location.protocol&&r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var n="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function s(t){if(!isObject_1$1(t))return t;var e=[];for(var r in t)c(e,r,t[r]);return e.join("&")}function c(t,e,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){c(t,e,r)});else if(isObject_1$1(r))for(var o in r)c(t,e+"["+o+"]",r[o]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));else null===r&&t.push(encodeURIComponent(e))}function u(t){for(var e,r,o={},i=t.split("&"),n=0,s=i.length;n<s;++n)-1==(r=(e=i[n]).indexOf("="))?o[decodeURIComponent(e)]="":o[decodeURIComponent(e.slice(0,r))]=decodeURIComponent(e.slice(r+1));return o}function a(t){return/[\/+]json($|[^-\w])/.test(t)}function h(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,r,o,i,s=t.split(/\r?\n/),c={},u=0,a=s.length;u<a;++u)-1!==(e=(r=s[u]).indexOf(":"))&&(o=r.slice(0,e).toLowerCase(),i=n(r.slice(e+1)),c[o]=i);return c}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&t._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function l(t,e){var r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t,e=null,o=null;try{o=new h(r)}catch(t){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=t,r.xhr?(e.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,e.status=r.xhr.status?r.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),r.callback(e)}r.emit("response",o);try{r._isResponseOK(o)||(t=new Error(o.statusText||"Unsuccessful HTTP response"))}catch(e){t=e}t?(t.original=e,t.response=o,t.status=o.status,r.callback(t,o)):r.callback(null,o)})}function p(t,e,r){var o=i("DELETE",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o}i.serializeObject=s,i.parseString=u,i.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},i.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},i.parse={"application/x-www-form-urlencoded":u,"application/json":JSON.parse},responseBase(h.prototype),h.prototype._parseBody=function(t){var e=i.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&a(this.type)&&(e=i.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},h.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,o="cannot "+e+" "+r+" ("+this.status+")",i=new Error(o);return i.status=this.status,i.method=e,i.url=r,i},i.Response=h,componentEmitter(l.prototype),requestBase(l.prototype),l.prototype.type=function(t){return this.set("Content-Type",i.types[t]||t),this},l.prototype.accept=function(t){return this.set("Accept",i.types[t]||t),this},l.prototype.auth=function(t,e,r){1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(r=e,e=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});return this._auth(t,e,r,function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")})},l.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},l.prototype.attach=function(t,e,r){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this},l.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},l.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)},l.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},l.prototype.buffer=l.prototype.ca=l.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},l.prototype.pipe=l.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},l.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},l.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||o,this._finalizeQueryString(),this._end()},l.prototype._end=function(){var t=this,e=this.xhr=i.getXHR(),r=this._formData||this._data;this._setTimeouts(),e.onreadystatechange=function(){var r=e.readyState;if(r>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==r){var o;try{o=e.status}catch(t){o=0}if(!o){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}};var o=function(e,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=e,t.emit("progress",r)};if(this.hasListeners("progress"))try{e.onprogress=o.bind(null,"download"),e.upload&&(e.upload.onprogress=o.bind(null,"upload"))}catch(t){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(t){return this.callback(t)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var n=this._header["content-type"],s=this._serializer||i.serialize[n?n.split(";")[0]:""];!s&&a(n)&&(s=i.serialize["application/json"]),s&&(r=s(r))}for(var c in this.header)null!=this.header[c]&&this.header.hasOwnProperty(c)&&e.setRequestHeader(c,this.header[c]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==r?r:null),this},i.agent=function(){return new agentBase},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(t){agentBase.prototype[t.toLowerCase()]=function(e,r){var o=new i.Request(t,e);return this._setDefaults(o),r&&o.end(r),o}}),agentBase.prototype.del=agentBase.prototype.delete,i.get=function(t,e,r){var o=i("GET",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},i.head=function(t,e,r){var o=i("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&o.query(e),r&&o.end(r),o},i.options=function(t,e,r){var o=i("OPTIONS",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},i.del=p,i.delete=p,i.patch=function(t,e,r){var o=i("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},i.post=function(t,e,r){var o=i("POST",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o},i.put=function(t,e,r){var o=i("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&o.send(e),r&&o.end(r),o}}),client_1=client.Request,superagent=Object.freeze({default:client,__moduleExports:client,Request:client_1});function fetch(t,e,r){t instanceof Request||(t=new Request(t,e));var o=superagent[t.method.toLowerCase()](t.url),i=!0,n=!1,s=void 0;try{for(var c,u=t.headers[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var a=c.value;o.set(a[0],a[1])}}catch(t){n=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(n)throw s}}return Observable_2.fromPromise(t.text()).mergeMap(function(e){return o.send(e),Observable_2.create(function(e){return o.end(function(r,o){if(r){var i=new Response(r,o);return i.message=i.statusText,e.error(i)}if(!0===o.noContent)return e.next(new Response),e.complete();o.url=t.url;var n=new Response(o.text,o);e.next(n),e.complete()}),function(){o.abort(),r&&r(o)}})})}var RxRestConfiguration$$1=function(){function t(){classCallCheck(this,t),this.$headers=new Headers,this.$queryParams=new URLSearchParams,this.identifier="id",this.requestInterceptors=[],this.responseInterceptors=[],this.errorInterceptors=[],this.abortCallback=function(){return null},this.uuid=!1,this.fetch=fetch}return createClass(t,[{key:"_requestBodyHandler",value:function(t){if(t)return t instanceof FormData||t instanceof URLSearchParams?t:t instanceof RxRestItem?t.json():JSON.stringify(t)}},{key:"_responseBodyHandler",value:function(t){return t.text().then(function(t){return{body:t?JSON.parse(t):null,metadata:null}})}},{key:"responseBodyHandler",get:function(){return this._responseBodyHandler},set:function(t){this._responseBodyHandler=t}},{key:"requestBodyHandler",get:function(){return this._requestBodyHandler},set:function(t){this._requestBodyHandler=t}},{key:"baseURL",set:function(t){"/"!==t.charAt(t.length-1)&&(t+="/"),this.$baseURL=t},get:function(){return this.$baseURL}},{key:"queryParams",set:function(t){t instanceof URLSearchParams?this.$queryParams=t:this.$queryParams="string"!=typeof t?objectToMap(new URLSearchParams,t):new URLSearchParams(t)},get:function(){return this.$queryParams}},{key:"headers",set:function(t){t instanceof Headers?this.$headers=t:this.$headers=objectToMap(new Headers,t)},get:function(){return this.$headers}}]),t}(),__extends$12=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},AuditSubscriber=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1}return __extends$12(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=tryCatch_1.tryCatch(this.durationSelector)(t);if(e===errorObject.errorObject)this.destination.error(errorObject.errorObject.e);else{var r=subscribeToResult_1.subscribeToResult(this,e);r.closed?this.clearThrottle():this.add(this.throttled=r)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,r,o){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(OuterSubscriber_1.OuterSubscriber),__extends$13=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},Action=function(t){function e(e,r){t.call(this)}return __extends$13(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Subscription_1.Subscription),Action_2=Action,Action_1={Action:Action_2},__extends$14=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},AsyncAction=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r,this.pending=!1}return __extends$14(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.delay=e,this.id=this.id||this.requestAsyncId(o,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),root.root.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;root.root.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,o=void 0;try{this.work(t)}catch(t){r=!0,o=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,o=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==o&&r.splice(o,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(Action_1.Action),AsyncAction_2=AsyncAction,AsyncAction_1={AsyncAction:AsyncAction_2},Scheduler=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=Date.now?Date.now:function(){return+new Date},t}(),Scheduler_2=Scheduler,Scheduler_1={Scheduler:Scheduler_2},__extends$15=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},AsyncScheduler=function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return __extends$15(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Scheduler_1.Scheduler),AsyncScheduler_2=AsyncScheduler,AsyncScheduler_1={AsyncScheduler:AsyncScheduler_2},async_1=new AsyncScheduler_1.AsyncScheduler(AsyncAction_1.AsyncAction),async={async:async_1};function isNumeric(t){return!isArray.isArray(t)&&t-parseFloat(t)+1>=0}var isNumeric_2=isNumeric,isNumeric_1={isNumeric:isNumeric_2};function isDate(t){return t instanceof Date&&!isNaN(+t)}var isDate_2=isDate,isDate_1={isDate:isDate_2},__extends$16=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TimerObservable=function(t){function e(e,r,o){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,isNumeric_1.isNumeric(r)?this.period=Number(r)<1?1:Number(r):isScheduler_1.isScheduler(r)&&(o=r),isScheduler_1.isScheduler(o)||(o=async.async),this.scheduler=o,this.dueTime=isDate_1.isDate(e)?+e-this.scheduler.now():e}return __extends$16(e,t),e.create=function(t,r,o){return void 0===t&&(t=0),new e(t,r,o)},e.dispatch=function(t){var e=t.index,r=t.period,o=t.subscriber;if(o.next(e),!o.closed){if(-1===r)return o.complete();t.index=e+1,this.schedule(t,r)}},e.prototype._subscribe=function(t){var r=this.period,o=this.dueTime;return this.scheduler.schedule(e.dispatch,o,{index:0,period:r,subscriber:t})},e}(Observable_1.Observable),__extends$17=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},BufferSubscriber=function(t){function e(e,r){t.call(this,e),this.buffer=[],this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends$17(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.buffer;this.buffer=[],this.destination.next(n)},e}(OuterSubscriber_1.OuterSubscriber),__extends$18=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},BufferCountSubscriber=function(t){function e(e,r){t.call(this,e),this.bufferSize=r,this.buffer=[]}return __extends$18(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(Subscriber_1.Subscriber),BufferSkipCountSubscriber=function(t){function e(e,r,o){t.call(this,e),this.bufferSize=r,this.startBufferEvery=o,this.buffers=[],this.count=0}return __extends$18(e,t),e.prototype._next=function(t){var e=this.bufferSize,r=this.startBufferEvery,o=this.buffers,i=this.count;this.count++,i%r==0&&o.push([]);for(var n=o.length;n--;){var s=o[n];s.push(t),s.length===e&&(o.splice(n,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var o=e.shift();o.length>0&&r.next(o)}t.prototype._complete.call(this)},e}(Subscriber_1.Subscriber),__extends$19=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},Context=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.bufferTimeSpan=r,this.bufferCreationInterval=o,this.maxBufferSize=i,this.scheduler=n,this.contexts=[];var s=this.openContext();if(this.timespanOnly=null==o||o<0,this.timespanOnly){var c={subscriber:this,context:s,bufferTimeSpan:r};this.add(s.closeAction=n.schedule(dispatchBufferTimeSpanOnly,r,c))}else{var u={subscriber:this,context:s},a={bufferTimeSpan:r,bufferCreationInterval:o,subscriber:this,scheduler:n};this.add(s.closeAction=n.schedule(dispatchBufferClose,r,u)),this.add(n.schedule(dispatchBufferCreation,o,a))}}return __extends$19(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,o=r.length,i=0;i<o;i++){var n=r[i],s=n.buffer;s.push(t),s.length==this.maxBufferSize&&(e=n)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var o=e.shift();r.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,o={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,o))}},e.prototype.openContext=function(){var t=new Context;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(Subscriber_1.Subscriber);function dispatchBufferTimeSpanOnly(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function dispatchBufferCreation(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,o=t.subscriber,i=t.scheduler,n=o.openContext();o.closed||(o.add(n.closeAction=i.schedule(dispatchBufferClose,r,{subscriber:o,context:n})),this.schedule(t,e))}function dispatchBufferClose(t){var e=t.subscriber,r=t.context;e.closeContext(r)}var __extends$20=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},BufferToggleSubscriber=function(t){function e(e,r,o){t.call(this,e),this.openings=r,this.closingSelector=o,this.contexts=[],this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends$20(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,o=0;o<r;o++)e[o].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var o=r.shift();o.subscription.unsubscribe(),o.buffer=null,o.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,o,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,o=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(o),o.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new Subscription_1.Subscription,o={buffer:[],subscription:r};e.push(o);var i=subscribeToResult_1.subscribeToResult(this,t,o);!i||i.closed?this.closeBuffer(o):(i.context=o,this.add(i),r.add(i))},e}(OuterSubscriber_1.OuterSubscriber),__extends$21=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},BufferWhenSubscriber=function(t){function e(e,r){t.call(this,e),this.closingSelector=r,this.subscribing=!1,this.openBuffer()}return __extends$21(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,o,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=tryCatch_1.tryCatch(this.closingSelector)();r===errorObject.errorObject?this.error(errorObject.errorObject.e):(t=new Subscription_1.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(subscribeToResult_1.subscribeToResult(this,r)),this.subscribing=!1)},e}(OuterSubscriber_1.OuterSubscriber),__extends$22=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},none={},CombineLatestSubscriber=function(t){function e(e,r){t.call(this,e),this.project=r,this.active=0,this.values=[],this.observables=[]}return __extends$22(e,t),e.prototype._next=function(t){this.values.push(none),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var o=t[r];this.add(subscribeToResult_1.subscribeToResult(this,o,o,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.values,s=n[r],c=this.toRespond?s===none?--this.toRespond:this.toRespond:0;n[r]=e,0===c&&(this.project?this._tryProject(n):this.destination.next(n.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(OuterSubscriber_1.OuterSubscriber),__extends$23=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},IteratorObservable=function(t){function e(e,r){if(t.call(this),this.scheduler=r,null==e)throw new Error("iterator cannot be null.");this.iterator=getIterator(e)}return __extends$23(e,t),e.create=function(t,r){return new e(t,r)},e.dispatch=function(t){var e=t.index,r=t.hasError,o=t.iterator,i=t.subscriber;if(r)i.error(t.error);else{var n=o.next();n.done?i.complete():(i.next(n.value),t.index=e+1,i.closed?"function"==typeof o.return&&o.return():this.schedule(t))}},e.prototype._subscribe=function(t){var r=this.iterator,o=this.scheduler;if(o)return o.schedule(e.dispatch,0,{index:0,iterator:r,subscriber:t});for(;;){var i=r.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed){"function"==typeof r.return&&r.return();break}}},e}(Observable_1.Observable),IteratorObservable_2=IteratorObservable,StringIterator=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.length),this.str=t,this.idx=e,this.len=r}return t.prototype[iterator.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),ArrayIterator=function(){function t(t,e,r){void 0===e&&(e=0),void 0===r&&(r=toLength(t)),this.arr=t,this.idx=e,this.len=r}return t.prototype[iterator.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();function getIterator(t){var e=t[iterator.iterator];if(!e&&"string"==typeof t)return new StringIterator(t);if(!e&&void 0!==t.length)return new ArrayIterator(t);if(!e)throw new TypeError("object is not iterable");return t[iterator.iterator]()}var maxSafeInteger=Math.pow(2,53)-1;function toLength(t){var e=+t.length;return isNaN(e)?0:0!==e&&numberIsFinite(e)?(e=sign(e)*Math.floor(Math.abs(e)))<=0?0:e>maxSafeInteger?maxSafeInteger:e:e}function numberIsFinite(t){return"number"==typeof t&&root.root.isFinite(t)}function sign(t){var e=+t;return 0===e?e:isNaN(e)?e:e<0?-1:1}var IteratorObservable_1={IteratorObservable:IteratorObservable_2},__extends$24=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ArrayLikeObservable=function(t){function e(e,r){t.call(this),this.arrayLike=e,this.scheduler=r,r||1!==e.length||(this._isScalar=!0,this.value=e[0])}return __extends$24(e,t),e.create=function(t,r){var o=t.length;return 0===o?new EmptyObservable_1.EmptyObservable:1===o?new ScalarObservable_1.ScalarObservable(t[0],r):new e(t,r)},e.dispatch=function(t){var e=t.arrayLike,r=t.index,o=t.length,i=t.subscriber;i.closed||(r>=o?i.complete():(i.next(e[r]),t.index=r+1,this.schedule(t)))},e.prototype._subscribe=function(t){var r=this.arrayLike,o=this.scheduler,i=r.length;if(o)return o.schedule(e.dispatch,0,{arrayLike:r,index:0,length:i,subscriber:t});for(var n=0;n<i&&!t.closed;n++)t.next(r[n]);t.complete()},e}(Observable_1.Observable),ArrayLikeObservable_2=ArrayLikeObservable,ArrayLikeObservable_1={ArrayLikeObservable:ArrayLikeObservable_2},Notification=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Observable_1.Observable.of(this.value);case"E":return Observable_1.Observable.throw(this.error);case"C":return Observable_1.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),Notification_2=Notification,Notification_1={Notification:Notification_2},__extends$25=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)};function observeOn(t,e){return void 0===e&&(e=0),function(r){return r.lift(new ObserveOnOperator(t,e))}}var observeOn_2=observeOn,ObserveOnOperator=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new ObserveOnSubscriber(t,this.scheduler,this.delay))},t}(),ObserveOnOperator_1=ObserveOnOperator,ObserveOnSubscriber=function(t){function e(e,r,o){void 0===o&&(o=0),t.call(this,e),this.scheduler=r,this.delay=o}return __extends$25(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new ObserveOnMessage(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Notification_1.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Notification_1.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(Notification_1.Notification.createComplete())},e}(Subscriber_1.Subscriber),ObserveOnSubscriber_1=ObserveOnSubscriber,ObserveOnMessage=function(){return function(t,e){this.notification=t,this.destination=e}}(),ObserveOnMessage_1=ObserveOnMessage,observeOn_1={observeOn:observeOn_2,ObserveOnOperator:ObserveOnOperator_1,ObserveOnSubscriber:ObserveOnSubscriber_1,ObserveOnMessage:ObserveOnMessage_1},__extends$26=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},FromObservable=function(t){function e(e,r){t.call(this,null),this.ish=e,this.scheduler=r}return __extends$26(e,t),e.create=function(t,r){if(null!=t){if("function"==typeof t[observable.observable])return t instanceof Observable_1.Observable&&!r?t:new e(t,r);if(isArray.isArray(t))return new ArrayObservable_1.ArrayObservable(t,r);if(isPromise_1.isPromise(t))return new PromiseObservable_1.PromiseObservable(t,r);if("function"==typeof t[iterator.iterator]||"string"==typeof t)return new IteratorObservable_1.IteratorObservable(t,r);if(isArrayLike.isArrayLike(t))return new ArrayLikeObservable_1.ArrayLikeObservable(t,r)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,r=this.scheduler;return null==r?e[observable.observable]().subscribe(t):e[observable.observable]().subscribe(new observeOn_1.ObserveOnSubscriber(t,r,0))},e}(Observable_1.Observable),__extends$27=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},CountSubscriber=function(t){function e(e,r,o){t.call(this,e),this.predicate=r,this.source=o,this.count=0,this.index=0}return __extends$27(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Subscriber_1.Subscriber),__extends$28=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DebounceSubscriber=function(t){function e(e,r){t.call(this,e),this.durationSelector=r,this.hasValue=!1,this.durationSubscription=null}return __extends$28(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=subscribeToResult_1.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,o,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(OuterSubscriber_1.OuterSubscriber),__extends$29=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DebounceTimeSubscriber=function(t){function e(e,r,o){t.call(this,e),this.dueTime=r,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return __extends$29(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$1,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(Subscriber_1.Subscriber);function dispatchNext$1(t){t.debouncedNext()}var __extends$30=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DefaultIfEmptySubscriber=function(t){function e(e,r){t.call(this,e),this.defaultValue=r,this.isEmpty=!0}return __extends$30(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Subscriber_1.Subscriber),__extends$31=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DelaySubscriber=function(t){function e(e,r,o){t.call(this,e),this.delay=r,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}return __extends$31(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,o=t.scheduler,i=t.destination;r.length>0&&r[0].time-o.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var n=Math.max(0,r[0].time-o.now());this.schedule(t,n)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new DelayMessage(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(Notification_1.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(Notification_1.Notification.createComplete())},e}(Subscriber_1.Subscriber),DelayMessage=function(){return function(t,e){this.time=t,this.notification=e}}(),__extends$32=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DelayWhenSubscriber=function(t){function e(e,r){t.call(this,e),this.delayDurationSelector=r,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}return __extends$32(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),r=null;return-1!==e&&(r=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),r},e.prototype.tryDelay=function(t,e){var r=subscribeToResult_1.subscribeToResult(this,t,e);r&&!r.closed&&(this.add(r),this.delayNotifierSubscriptions.push(r)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),SubscriptionDelayObservable=function(t){function e(e,r){t.call(this),this.source=e,this.subscriptionDelay=r}return __extends$32(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(t,this.source))},e}(Observable_1.Observable),SubscriptionDelaySubscriber=function(t){function e(e,r){t.call(this),this.parent=e,this.source=r,this.sourceSubscribed=!1}return __extends$32(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Subscriber_1.Subscriber),__extends$33=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DeMaterializeSubscriber=function(t){function e(e){t.call(this,e)}return __extends$33(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(Subscriber_1.Subscriber);function minimalSetImpl(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}var minimalSetImpl_1=minimalSetImpl,Set=root.root.Set||minimalSetImpl(),_Set={minimalSetImpl:minimalSetImpl_1,Set:Set},__extends$34=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DistinctSubscriber=function(t){function e(e,r,o){t.call(this,e),this.keySelector=r,this.values=new _Set.Set,o&&this.add(subscribeToResult_1.subscribeToResult(this,o))}return __extends$34(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(OuterSubscriber_1.OuterSubscriber),__extends$35=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DistinctUntilChangedSubscriber=function(t){function e(e,r,o){t.call(this,e),this.keySelector=o,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}return __extends$35(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=tryCatch_1.tryCatch(this.keySelector)(t))===errorObject.errorObject)return this.destination.error(errorObject.errorObject.e);var r=!1;if(this.hasKey){if((r=tryCatch_1.tryCatch(this.compare)(this.key,e))===errorObject.errorObject)return this.destination.error(errorObject.errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=e,this.destination.next(t))},e}(Subscriber_1.Subscriber),__extends$36=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ArgumentOutOfRangeError=function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return __extends$36(e,t),e}(Error),ArgumentOutOfRangeError_2=ArgumentOutOfRangeError,ArgumentOutOfRangeError_1={ArgumentOutOfRangeError:ArgumentOutOfRangeError_2},__extends$37=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ElementAtSubscriber=function(t){function e(e,r,o){t.call(this,e),this.index=r,this.defaultValue=o}return __extends$37(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&(void 0!==this.defaultValue?t.next(this.defaultValue):t.error(new ArgumentOutOfRangeError_1.ArgumentOutOfRangeError)),t.complete()},e}(Subscriber_1.Subscriber),__extends$38=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},EverySubscriber=function(t){function e(e,r,o,i){t.call(this,e),this.predicate=r,this.thisArg=o,this.source=i,this.index=0,this.thisArg=o||this}return __extends$38(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Subscriber_1.Subscriber),__extends$39=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SwitchFirstSubscriber=function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}return __extends$39(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends$40=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SwitchFirstMapSubscriber=function(t){function e(e,r,o){t.call(this,e),this.project=r,this.resultSelector=o,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}return __extends$40(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,r=this.destination;try{var o=this.project(t,e);this.hasSubscription=!0,this.add(subscribeToResult_1.subscribeToResult(this,o,t,e))}catch(t){r.error(t)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.resultSelector,s=this.destination;n?this.trySelectResult(t,e,r,o):s.next(e)},e.prototype.trySelectResult=function(t,e,r,o){var i=this.resultSelector,n=this.destination;try{var s=i(t,e,r,o);n.next(s)}catch(t){n.error(t)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends$41=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ExpandSubscriber=function(t){function e(e,r,o,i){t.call(this,e),this.project=r,this.concurrent=o,this.scheduler=i,this.index=0,this.active=0,this.hasCompleted=!1,o<Number.POSITIVE_INFINITY&&(this.buffer=[])}return __extends$41(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,o=t.value,i=t.index;e.subscribeToProjection(r,o,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var o=this.index++;if(this.active<this.concurrent){r.next(t);var i=tryCatch_1.tryCatch(this.project)(t,o);if(i===errorObject.errorObject)r.error(errorObject.errorObject.e);else if(this.scheduler){var n={subscriber:this,result:i,value:t,index:o};this.add(this.scheduler.schedule(e.dispatch,0,n))}else this.subscribeToProjection(i,t,o)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.add(subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends$42=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},FilterSubscriber=function(t){function e(e,r,o){t.call(this,e),this.predicate=r,this.thisArg=o,this.count=0}return __extends$42(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(Subscriber_1.Subscriber),__extends$43=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},FinallySubscriber=function(t){function e(e,r){t.call(this,e),this.add(new Subscription_1.Subscription(r))}return __extends$43(e,t),e}(Subscriber_1.Subscriber),__extends$44=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},FindValueSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.predicate=r,this.source=o,this.yieldIndex=i,this.thisArg=n,this.index=0}return __extends$44(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,o=this.index++;try{e.call(r||this,t,o,this.source)&&this.notifyComplete(this.yieldIndex?o:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Subscriber_1.Subscriber),__extends$45=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},EmptyError=function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return __extends$45(e,t),e}(Error),EmptyError_2=EmptyError,EmptyError_1={EmptyError:EmptyError_2},__extends$46=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},FirstSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.predicate=r,this.resultSelector=o,this.defaultValue=i,this.source=n,this.index=0,this.hasCompleted=!1,this._emitted=!1}return __extends$46(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}r&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this._emitFinal(r)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||void 0===this.defaultValue?this.hasCompleted||t.error(new EmptyError_1.EmptyError):(t.next(this.defaultValue),t.complete())},e}(Subscriber_1.Subscriber),__extends$47=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ObjectUnsubscribedError=function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return __extends$47(e,t),e}(Error),ObjectUnsubscribedError_2=ObjectUnsubscribedError,ObjectUnsubscribedError_1={ObjectUnsubscribedError:ObjectUnsubscribedError_2},__extends$48=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SubjectSubscription=function(t){function e(e,r){t.call(this),this.subject=e,this.subscriber=r,this.closed=!1}return __extends$48(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(Subscription_1.Subscription),SubjectSubscription_2=SubjectSubscription,SubjectSubscription_1={SubjectSubscription:SubjectSubscription_2},__extends$49=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SubjectSubscriber=function(t){function e(e){t.call(this,e),this.destination=e}return __extends$49(e,t),e}(Subscriber_1.Subscriber),SubjectSubscriber_1=SubjectSubscriber,Subject=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return __extends$49(e,t),e.prototype[rxSubscriber.rxSubscriber]=function(){return new SubjectSubscriber(this)},e.prototype.lift=function(t){var e=new AnonymousSubject(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,o=e.slice(),i=0;i<r;i++)o[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,o=e.slice(),i=0;i<r;i++)o[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),o=0;o<e;o++)r[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.isStopped?(t.complete(),Subscription_1.Subscription.EMPTY):(this.observers.push(t),new SubjectSubscription_1.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Observable_1.Observable;return t.source=this,t},e.create=function(t,e){return new AnonymousSubject(t,e)},e}(Observable_1.Observable),Subject_2=Subject,AnonymousSubject=function(t){function e(e,r){t.call(this),this.destination=e,this.source=r}return __extends$49(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Subscription_1.Subscription.EMPTY},e}(Subject),AnonymousSubject_1=AnonymousSubject,Subject_1={SubjectSubscriber:SubjectSubscriber_1,Subject:Subject_2,AnonymousSubject:AnonymousSubject_1},MapPolyfill=function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?void 0:this._values[e]},t.prototype.set=function(t,e){var r=this._keys.indexOf(t);return-1===r?(this._keys.push(t),this._values.push(e),this.size++):this._values[r]=e,this},t.prototype.delete=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var r=0;r<this.size;r++)t.call(e,this._values[r],this._keys[r])},t}(),MapPolyfill_2=MapPolyfill,MapPolyfill_1={MapPolyfill:MapPolyfill_2},Map=root.root.Map||MapPolyfill_1.MapPolyfill,_Map={Map:Map},FastMap=function(){function t(){this.values={}}return t.prototype.delete=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var r=this.values;for(var o in r)r.hasOwnProperty(o)&&null!==r[o]&&t.call(e,r[o],o)},t.prototype.clear=function(){this.values={}},t}(),FastMap_2=FastMap,FastMap_1={FastMap:FastMap_2},__extends$50=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},GroupBySubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.keySelector=r,this.elementSelector=o,this.durationSelector=i,this.subjectSelector=n,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}return __extends$50(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups="string"==typeof e?new FastMap_1.FastMap:new _Map.Map);var o,i=r.get(e);if(this.elementSelector)try{o=this.elementSelector(t)}catch(t){this.error(t)}else o=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Subject_1.Subject,r.set(e,i);var n=new GroupedObservable(e,i,this);if(this.destination.next(n),this.durationSelector){var s=void 0;try{s=this.durationSelector(new GroupedObservable(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new GroupDurationSubscriber(e,i,this)))}}i.closed||i.next(o)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(Subscriber_1.Subscriber),GroupDurationSubscriber=function(t){function e(e,r,o){t.call(this,r),this.key=e,this.group=r,this.parent=o}return __extends$50(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(Subscriber_1.Subscriber),GroupedObservable=function(t){function e(e,r,o){t.call(this),this.key=e,this.groupSubject=r,this.refCountSubscription=o}return __extends$50(e,t),e.prototype._subscribe=function(t){var e=new Subscription_1.Subscription,r=this.refCountSubscription,o=this.groupSubject;return r&&!r.closed&&e.add(new InnerRefCountSubscription(r)),e.add(o.subscribe(t)),e},e}(Observable_1.Observable),InnerRefCountSubscription=function(t){function e(e){t.call(this),this.parent=e,e.count++}return __extends$50(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(Subscription_1.Subscription),__extends$51=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},IgnoreElementsSubscriber=function(t){function e(){t.apply(this,arguments)}return __extends$51(e,t),e.prototype._next=function(t){noop_1.noop()},e}(Subscriber_1.Subscriber),__extends$52=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},IsEmptySubscriber=function(t){function e(e){t.call(this,e)}return __extends$52(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Subscriber_1.Subscriber),__extends$53=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},LastSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.predicate=r,this.resultSelector=o,this.defaultValue=i,this.source=n,this.hasValue=!1,this.index=0,void 0!==i&&(this.lastValue=i,this.hasValue=!0)}return __extends$53(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var r;try{r=this.predicate(t,e,this.source)}catch(t){return void this.destination.error(t)}if(r){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var r;try{r=this.resultSelector(t,e)}catch(t){return void this.destination.error(t)}this.lastValue=r,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new EmptyError_1.EmptyError)},e}(Subscriber_1.Subscriber),__extends$54=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},MapSubscriber=function(t){function e(e,r,o){t.call(this,e),this.project=r,this.count=0,this.thisArg=o||this}return __extends$54(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Subscriber_1.Subscriber),__extends$55=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},MapToSubscriber=function(t){function e(e,r){t.call(this,e),this.value=r}return __extends$55(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(Subscriber_1.Subscriber),__extends$56=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},MaterializeSubscriber=function(t){function e(e){t.call(this,e)}return __extends$56(e,t),e.prototype._next=function(t){this.destination.next(Notification_1.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(Notification_1.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(Notification_1.Notification.createComplete()),t.complete()},e}(Subscriber_1.Subscriber),__extends$57=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ScanSubscriber=function(t){function e(e,r,o,i){t.call(this,e),this.accumulator=r,this._seed=o,this.hasSeed=i,this.index=0}return __extends$57(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(Subscriber_1.Subscriber),__extends$58=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TakeLastSubscriber=function(t){function e(e,r){t.call(this,e),this.total=r,this.ring=new Array,this.count=0}return __extends$58(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,o=this.count++;e.length<r?e.push(t):e[o%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,o=this.ring,i=0;i<r;i++){var n=e++%r;t.next(o[n])}t.complete()},e}(Subscriber_1.Subscriber),__extends$59=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},MergeMapToSubscriber=function(t){function e(e,r,o,i){void 0===i&&(i=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=r,this.resultSelector=o,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends$59(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,r=this.index++,o=this.ish,i=this.destination;this.active++,this._innerSub(o,i,e,t,r)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r,o,i){this.add(subscribeToResult_1.subscribeToResult(this,t,o,i))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.resultSelector,s=this.destination;n?this.trySelectResult(t,e,r,o):s.next(e)},e.prototype.trySelectResult=function(t,e,r,o){var i,n=this.resultSelector,s=this.destination;try{i=n(t,e,r,o)}catch(t){return void s.error(t)}s.next(i)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends$60=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},MergeScanSubscriber=function(t){function e(e,r,o,i){t.call(this,e),this.accumulator=r,this.acc=o,this.concurrent=i,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return __extends$60(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=tryCatch_1.tryCatch(this.accumulator)(this.acc,t),o=this.destination;r===errorObject.errorObject?o.error(errorObject.errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){this.add(subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.destination;this.acc=e,this.hasValue=!0,n.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(OuterSubscriber_1.OuterSubscriber),__extends$61=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)};function refCount(){return function(t){return t.lift(new RefCountOperator(t))}}var refCount_2=refCount,RefCountOperator=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var o=new RefCountSubscriber(t,r),i=e.subscribe(o);return o.closed||(o.connection=r.connect()),i},t}(),RefCountSubscriber=function(t){function e(e,r){t.call(this,e),this.connectable=r}return __extends$61(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,o=t._connection;this.connection=null,!o||r&&o!==r||o.unsubscribe()}}else this.connection=null},e}(Subscriber_1.Subscriber),refCount_1={refCount:refCount_2},__extends$62=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ConnectableObservable=function(t){function e(e,r){t.call(this),this.source=e,this.subjectFactory=r,this._refCount=0,this._isComplete=!1}return __extends$62(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new Subscription_1.Subscription).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),t.closed?(this._connection=null,t=Subscription_1.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return refCount_1.refCount()(this)},e}(Observable_1.Observable),ConnectableSubscriber=function(t){function e(e,r){t.call(this,e),this.connectable=r}return __extends$62(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(Subject_1.SubjectSubscriber),RefCountSubscriber$1=function(t){function e(e,r){t.call(this,e),this.connectable=r}return __extends$62(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,o=t._connection;this.connection=null,!o||r&&o!==r||o.unsubscribe()}}else this.connection=null},e}(Subscriber_1.Subscriber),__extends$63=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},OnErrorResumeNextSubscriber=function(t){function e(e,r){t.call(this,e),this.destination=e,this.nextSources=r}return __extends$63(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(subscribeToResult_1.subscribeToResult(this,t)):this.destination.complete()},e}(OuterSubscriber_1.OuterSubscriber),__extends$64=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},PairwiseSubscriber=function(t){function e(e){t.call(this,e),this.hasPrev=!1}return __extends$64(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(Subscriber_1.Subscriber),__extends$65=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},BehaviorSubject=function(t){function e(e){t.call(this),this._value=e}return __extends$65(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Subject_1.Subject),__extends$66=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},AsyncSubject=function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}return __extends$66(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),Subscription_1.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Subscription_1.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Subject_1.Subject),__extends$67=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},QueueAction=function(t){function e(e,r){t.call(this,e,r),this.scheduler=e,this.work=r}return __extends$67(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,o){return void 0===o&&(o=0),null!==o&&o>0||null===o&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,o):e.flush(this)},e}(AsyncAction_1.AsyncAction),QueueAction_2=QueueAction,QueueAction_1={QueueAction:QueueAction_2},__extends$68=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},QueueScheduler=function(t){function e(){t.apply(this,arguments)}return __extends$68(e,t),e}(AsyncScheduler_1.AsyncScheduler),QueueScheduler_2=QueueScheduler,QueueScheduler_1={QueueScheduler:QueueScheduler_2},queue_1=new QueueScheduler_1.QueueScheduler(QueueAction_1.QueueAction),queue={queue:queue_1},__extends$69=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ReplaySubject=function(t){function e(e,r,o){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=o,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=r<1?1:r}return __extends$69(e,t),e.prototype.next=function(e){var r=this._getNow();this._events.push(new ReplayEvent(r,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._trimBufferThenGetEvents(),o=this.scheduler;if(this.closed)throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError;this.hasError?e=Subscription_1.Subscription.EMPTY:this.isStopped?e=Subscription_1.Subscription.EMPTY:(this.observers.push(t),e=new SubjectSubscription_1.SubjectSubscription(this,t)),o&&t.add(t=new observeOn_1.ObserveOnSubscriber(t,o));for(var i=r.length,n=0;n<i&&!t.closed;n++)t.next(r[n].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||queue.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,o=this._events,i=o.length,n=0;n<i&&!(t-o[n].time<r);)n++;return i>e&&(n=Math.max(n,i-e)),n>0&&o.splice(0,n),o},e}(Subject_1.Subject),ReplayEvent=function(){return function(t,e){this.time=t,this.value=e}}(),__extends$70=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},RaceSubscriber=function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}return __extends$70(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var o=t[r],i=subscribeToResult_1.subscribeToResult(this,o,o,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,o,i){if(!this.hasFirst){this.hasFirst=!0;for(var n=0;n<this.subscriptions.length;n++)if(n!==r){var s=this.subscriptions[n];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(OuterSubscriber_1.OuterSubscriber),__extends$71=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},RepeatSubscriber=function(t){function e(e,r,o){t.call(this,e),this.count=r,this.source=o}return __extends$71(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(Subscriber_1.Subscriber),__extends$72=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},RepeatWhenSubscriber=function(t){function e(e,r,o){t.call(this,e),this.notifier=r,this.source=o,this.sourceIsBeingSubscribedTo=!0}return __extends$72(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this.notifications,r=this.retries,o=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=e,this.retries=r,this.retriesSubscription=o,this},e.prototype.subscribeToRetries=function(){this.notifications=new Subject_1.Subject;var e=tryCatch_1.tryCatch(this.notifier)(this.notifications);if(e===errorObject.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=subscribeToResult_1.subscribeToResult(this,e)},e}(OuterSubscriber_1.OuterSubscriber),__extends$73=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},RetrySubscriber=function(t){function e(e,r,o){t.call(this,e),this.count=r,this.source=o}return __extends$73(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,o=this.count;if(0===o)return t.prototype.error.call(this,e);o>-1&&(this.count=o-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(Subscriber_1.Subscriber),__extends$74=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},RetryWhenSubscriber=function(t){function e(e,r,o){t.call(this,e),this.notifier=r,this.source=o}return __extends$74(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.errors=null,this.retriesSubscription=null;else{if(r=new Subject_1.Subject,(o=tryCatch_1.tryCatch(this.notifier)(r))===errorObject.errorObject)return t.prototype.error.call(this,errorObject.errorObject.e);i=subscribeToResult_1.subscribeToResult(this,o)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=o,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.errors,s=this.retries,c=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=n,this.retries=s,this.retriesSubscription=c,this.source.subscribe(this)},e}(OuterSubscriber_1.OuterSubscriber),__extends$75=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SampleSubscriber=function(t){function e(){t.apply(this,arguments),this.hasValue=!1}return __extends$75(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,o,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(OuterSubscriber_1.OuterSubscriber),__extends$76=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SampleTimeSubscriber=function(t){function e(e,r,o){t.call(this,e),this.period=r,this.scheduler=o,this.hasValue=!1,this.add(o.schedule(dispatchNotification,r,{subscriber:this,period:r}))}return __extends$76(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Subscriber_1.Subscriber);function dispatchNotification(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}var __extends$77=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SequenceEqualSubscriber=function(t){function e(e,r,o){t.call(this,e),this.compareTo=r,this.comparor=o,this._a=[],this._b=[],this._oneComplete=!1,this.add(r.subscribe(new SequenceEqualCompareToSubscriber(e,this)))}return __extends$77(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,r=this.comparor;t.length>0&&e.length>0;){var o=t.shift(),i=e.shift(),n=!1;r?(n=tryCatch_1.tryCatch(r)(o,i))===errorObject.errorObject&&this.destination.error(errorObject.errorObject.e):n=o===i,n||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e}(Subscriber_1.Subscriber),SequenceEqualCompareToSubscriber=function(t){function e(e,r){t.call(this,e),this.parent=r}return __extends$77(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(Subscriber_1.Subscriber),__extends$78=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SingleSubscriber=function(t){function e(e,r,o){t.call(this,e),this.predicate=r,this.source=o,this.seenValue=!1,this.index=0}return __extends$78(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new EmptyError_1.EmptyError)},e}(Subscriber_1.Subscriber),__extends$79=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SkipSubscriber=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return __extends$79(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(Subscriber_1.Subscriber),__extends$80=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SkipLastSubscriber=function(t){function e(e,r){t.call(this,e),this._skipCount=r,this._count=0,this._ring=new Array(r)}return __extends$80(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var o=r%e,i=this._ring,n=i[o];i[o]=t,this.destination.next(n)}},e}(Subscriber_1.Subscriber),__extends$81=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SkipUntilSubscriber=function(t){function e(e,r){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends$81(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,o,i){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)},e}(OuterSubscriber_1.OuterSubscriber),__extends$82=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SkipWhileSubscriber=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.skipping=!0,this.index=0}return __extends$82(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(Subscriber_1.Subscriber),__extends$83=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SwitchMapSubscriber=function(t){function e(e,r,o){t.call(this,e),this.project=r,this.resultSelector=o,this.index=0}return __extends$83(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var o=this.innerSubscription;o&&o.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,t,e,r))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,o,i){this.resultSelector?this._tryNotifyNext(t,e,r,o):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,r,o){var i;try{i=this.resultSelector(t,e,r,o)}catch(t){return void this.destination.error(t)}this.destination.next(i)},e}(OuterSubscriber_1.OuterSubscriber),__extends$84=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},SwitchMapToSubscriber=function(t){function e(e,r,o){t.call(this,e),this.inner=r,this.resultSelector=o,this.index=0}return __extends$84(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=subscribeToResult_1.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,o,i){var n=this.resultSelector,s=this.destination;n?this.tryResultSelector(t,e,r,o):s.next(e)},e.prototype.tryResultSelector=function(t,e,r,o){var i,n=this.resultSelector,s=this.destination;try{i=n(t,e,r,o)}catch(t){return void s.error(t)}s.next(i)},e}(OuterSubscriber_1.OuterSubscriber),__extends$85=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TakeSubscriber=function(t){function e(e,r){t.call(this,e),this.total=r,this.count=0}return __extends$85(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(Subscriber_1.Subscriber),__extends$86=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TakeUntilSubscriber=function(t){function e(e,r){t.call(this,e),this.notifier=r,this.add(subscribeToResult_1.subscribeToResult(this,r))}return __extends$86(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.complete()},e.prototype.notifyComplete=function(){},e}(OuterSubscriber_1.OuterSubscriber),__extends$87=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TakeWhileSubscriber=function(t){function e(e,r){t.call(this,e),this.predicate=r,this.index=0}return __extends$87(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(Subscriber_1.Subscriber),__extends$88=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},DoSubscriber=function(t){function e(e,r,o,i){t.call(this,e);var n=new Subscriber_1.Subscriber(r,o,i);n.syncErrorThrowable=!0,this.add(n),this.safeSubscriber=n}return __extends$88(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()},e}(Subscriber_1.Subscriber),throttle_1=createCommonjsModule(function(t,e){var r=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)};e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,r){return void 0===r&&(r=e.defaultThrottleConfig),function(e){return e.lift(new o(t,r.leading,r.trailing))}};var o=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new i(t,this.durationSelector,this.leading,this.trailing))},t}(),i=function(t){function e(e,r,o,i){t.call(this,e),this.destination=e,this.durationSelector=r,this._leading=o,this._trailing=i,this._hasTrailingValue=!1}return r(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=subscribeToResult_1.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype._unsubscribe=function(){var t=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype._sendTrailing=function(){var t=this,e=t.destination,r=t.throttled,o=t._trailing,i=t._trailingValue,n=t._hasTrailingValue;r&&o&&n&&(e.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,r,o,i){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(OuterSubscriber_1.OuterSubscriber)}),throttle_2=throttle_1.defaultThrottleConfig,throttle_3=throttle_1.throttle,__extends$89=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ThrottleTimeSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.duration=r,this.scheduler=o,this.leading=i,this.trailing=n,this._hasTrailingValue=!1,this._trailingValue=null}return __extends$89(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext$2,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(Subscriber_1.Subscriber);function dispatchNext$2(t){t.subscriber.clearThrottle()}var __extends$90=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TimeInterval=function(){return function(t,e){this.value=t,this.interval=e}}(),TimeIntervalSubscriber=function(t){function e(e,r){t.call(this,e),this.scheduler=r,this.lastTime=0,this.lastTime=r.now()}return __extends$90(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),r=e-this.lastTime;this.lastTime=e,this.destination.next(new TimeInterval(t,r))},e}(Subscriber_1.Subscriber),__extends$91=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TimeoutError=function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}return __extends$91(e,t),e}(Error),__extends$92=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TimeoutSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.absoluteTimeout=r,this.waitFor=o,this.scheduler=i,this.errorInstance=n,this.action=null,this.scheduleTimeout()}return __extends$92(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null},e}(Subscriber_1.Subscriber),__extends$93=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},TimeoutWithSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.absoluteTimeout=r,this.waitFor=o,this.withObservable=i,this.scheduler=n,this.action=null,this.scheduleTimeout()}return __extends$93(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(subscribeToResult_1.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(OuterSubscriber_1.OuterSubscriber),__extends$94=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},WindowSubscriber=function(t){function e(e){t.call(this,e),this.window=new Subject_1.Subject,e.next(this.window)}return __extends$94(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new Subject_1.Subject;e.next(r)},e}(OuterSubscriber_1.OuterSubscriber),__extends$95=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},WindowCountSubscriber=function(t){function e(e,r,o){t.call(this,e),this.destination=e,this.windowSize=r,this.startWindowEvery=o,this.windows=[new Subject_1.Subject],this.count=0,e.next(this.windows[0])}return __extends$95(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,o=this.windowSize,i=this.windows,n=i.length,s=0;s<n&&!this.closed;s++)i[s].next(t);var c=this.count-o+1;if(c>=0&&c%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new Subject_1.Subject;i.push(u),r.next(u)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Subscriber_1.Subscriber),__extends$96=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},CountedSubject=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return __extends$96(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Subject_1.Subject),WindowTimeSubscriber=function(t){function e(e,r,o,i,n){t.call(this,e),this.destination=e,this.windowTimeSpan=r,this.windowCreationInterval=o,this.maxWindowSize=i,this.scheduler=n,this.windows=[];var s=this.openWindow();if(null!==o&&o>=0){var c={subscriber:this,window:s,context:null},u={windowTimeSpan:r,windowCreationInterval:o,subscriber:this,scheduler:n};this.add(n.schedule(dispatchWindowClose,r,c)),this.add(n.schedule(dispatchWindowCreation,o,u))}else{var a={subscriber:this,window:s,windowTimeSpan:r};this.add(n.schedule(dispatchWindowTimeSpanOnly,r,a))}}return __extends$96(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,o=0;o<r;o++){var i=e[o];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new CountedSubject;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(Subscriber_1.Subscriber);function dispatchWindowTimeSpanOnly(t){var e=t.subscriber,r=t.windowTimeSpan,o=t.window;o&&e.closeWindow(o),t.window=e.openWindow(),this.schedule(t,r)}function dispatchWindowCreation(t){var e=t.windowTimeSpan,r=t.subscriber,o=t.scheduler,i=t.windowCreationInterval,n={action:this,subscription:null},s={subscriber:r,window:r.openWindow(),context:n};n.subscription=o.schedule(dispatchWindowClose,e,s),this.add(n.subscription),this.schedule(t,i)}function dispatchWindowClose(t){var e=t.subscriber,r=t.window,o=t.context;o&&o.action&&o.subscription&&o.action.remove(o.subscription),e.closeWindow(r)}var __extends$97=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},WindowToggleSubscriber=function(t){function e(e,r,o){t.call(this,e),this.openings=r,this.closingSelector=o,this.contexts=[],this.add(this.openSubscription=subscribeToResult_1.subscribeToResult(this,r,r))}return __extends$97(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,o=0;o<r;o++)e[o].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var o=r.length,i=-1;++i<o;){var n=r[i];n.window.error(e),n.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,o=-1;++o<r;){var i=e[o];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var o=t[r];o.window.unsubscribe(),o.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,o,i){if(t===this.openings){var n=this.closingSelector,s=tryCatch_1.tryCatch(n)(e);if(s===errorObject.errorObject)return this.error(errorObject.errorObject.e);var c=new Subject_1.Subject,u=new Subscription_1.Subscription,a={window:c,subscription:u};this.contexts.push(a);var h=subscribeToResult_1.subscribeToResult(this,s,a);h.closed?this.closeWindow(this.contexts.length-1):(h.context=a,u.add(h)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],o=r.window,i=r.subscription;e.splice(t,1),o.complete(),i.unsubscribe()}},e}(OuterSubscriber_1.OuterSubscriber),__extends$98=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},WindowSubscriber$1=function(t){function e(e,r){t.call(this,e),this.destination=e,this.closingSelector=r,this.openWindow()}return __extends$98(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new Subject_1.Subject;this.destination.next(r);var o=tryCatch_1.tryCatch(this.closingSelector)();if(o===errorObject.errorObject){var i=errorObject.errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=subscribeToResult_1.subscribeToResult(this,o))},e}(OuterSubscriber_1.OuterSubscriber),__extends$99=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},WithLatestFromSubscriber=function(t){function e(e,r,o){t.call(this,e),this.observables=r,this.project=o,this.toRespond=[];var i=r.length;this.values=new Array(i);for(var n=0;n<i;n++)this.toRespond.push(n);for(n=0;n<i;n++){var s=r[n];this.add(subscribeToResult_1.subscribeToResult(this,s,s,n))}}return __extends$99(e,t),e.prototype.notifyNext=function(t,e,r,o,i){this.values[r]=e;var n=this.toRespond;if(n.length>0){var s=n.indexOf(r);-1!==s&&n.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(OuterSubscriber_1.OuterSubscriber),__extends$100=commonjsGlobal&&commonjsGlobal.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},ZipSubscriber=function(t){function e(e,r,o){void 0===o&&(o=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof r?r:null,this.values=o}return __extends$100(e,t),e.prototype._next=function(t){var e=this.iterators;isArray.isArray(t)?e.push(new StaticArrayIterator(t)):"function"==typeof t[iterator.iterator]?e.push(new StaticIterator(t[iterator.iterator]())):e.push(new ZipBufferIterator(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var r=0;r<e;r++){var o=t[r];o.stillUnsubscribed?this.add(o.subscribe(o,r)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,o=0;o<e;o++){if("function"==typeof(s=t[o]).hasValue&&!s.hasValue())return}var i=!1,n=[];for(o=0;o<e;o++){var s,c=(s=t[o]).next();if(s.hasCompleted()&&(i=!0),c.done)return void r.complete();n.push(c.value)}this.project?this._tryProject(n):r.next(n),i&&r.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Subscriber_1.Subscriber),StaticIterator=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),StaticArrayIterator=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[iterator.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),ZipBufferIterator=function(t){function e(e,r,o){t.call(this,e),this.parent=r,this.observable=o,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return __extends$100(e,t),e.prototype[iterator.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,o,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return subscribeToResult_1.subscribeToResult(this,this.observable,this,e)},e}(OuterSubscriber_1.OuterSubscriber),catchError$1=catchError_1.catchError,mergeMap$3=mergeMap_1.mergeMap,throttle=throttle_1.throttle,RxRest=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new RxRestConfiguration$$1,r=arguments[1],o=arguments[2];classCallCheck(this,t),this.$fromServer=!1,this.$asIterable=!0,this.$queryParams=new URLSearchParams,this.$headers=new Headers,this.$pristine=!0,this.$route=void 0===r?[]:[].concat(toConsumableArray(r)),this.config=e,this.$metadata=o,e.uuid&&(this.$uuid=uuid())}return createClass(t,[{key:"addRoute",value:function(t){this.$route.push.apply(this.$route,t.split("/"))}},{key:"one",value:function(t,e){this.addRoute(t);var r={};return e&&(r[this.config.identifier]=e),new RxRestItem(this.$route,r,this.config)}},{key:"all",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.addRoute(t),new RxRestCollection(this.$route,void 0,this.config,null,e)}},{key:"asIterable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.$asIterable=t,this}},{key:"fromObject",value:function(t,e){return this.addRoute(t),Array.isArray(e)?new RxRestCollection(this.$route,e,this.config):new RxRestItem(this.$route,e,this.config)}},{key:"withBody",value:function(t){return t||this}},{key:"post",value:function(t,e,r){return this.queryParams=e,this.headers=r,this.request("POST",this.withBody(t))}},{key:"remove",value:function(t,e){return this.queryParams=t,this.headers=e,this.request("DELETE")}},{key:"get",value:function(t,e){return this.queryParams=t,this.headers=e,this.request("GET")}},{key:"put",value:function(t,e,r){return this.queryParams=e,this.headers=r,this.request("PUT",this.withBody(t))}},{key:"patch",value:function(t,e,r){return this.queryParams=e,this.headers=r,this.request("PATCH",this.withBody(t))}},{key:"head",value:function(t,e){return this.queryParams=t,this.headers=e,this.request("HEAD")}},{key:"trace",value:function(t,e){return this.queryParams=t,this.headers=e,this.request("TRACE")}},{key:"options",value:function(t,e){return this.queryParams=t,this.headers=e,this.request("OPTIONS")}},{key:"setQueryParams",value:function(t){return this.queryParams=t,this}},{key:"setHeaders",value:function(t){return this.headers=t,this}},{key:"expandInterceptors",value:function(t){return function(e){return t.reduce(function(t,e){return t.concatMap(function(t){var r=e(t);return void 0===r?of_1(t):r instanceof Promise?fromPromise_1(r):r instanceof Observable_2?r:of_1(r)})},of_1(e))}}},{key:"request",value:function(t,e){var r=this,o={method:t,headers:this.requestHeaders,body:this.config.requestBodyHandler(e)},i=new Request(this.URL+this.requestQueryParams,o);return Observable_2.of(i).pipe(mergeMap$3(this.expandInterceptors(this.config.requestInterceptors)),mergeMap$3(function(t){return r.config.fetch(t,null,r.config.abortCallback)}),mergeMap$3(this.expandInterceptors(this.config.responseInterceptors)),mergeMap$3(function(t){return fromPromise_1(r.config.responseBodyHandler(t))}),mergeMap$3(function(t){var e=t.body,o=t.metadata;if(!Array.isArray(e)){var i=void 0;return r instanceof RxRestItem?((i=r).element=e,i.$metadata=o):i=new RxRestItem(r.$route,e,r.config,o),i.$fromServer=!0,i.$pristine=!0,Observable_2.create(function(t){t.next(i),t.complete()})}var n=new RxRestCollection(r.$route,e.map(function(t){var e=new RxRestItem(r.$route,t,r.config,o);return e.$fromServer=!0,e.$pristine=!0,e}),r.config,o);return n.$pristine=!0,Observable_2.create(function(t){if(r.$asIterable)t.next(n);else{var e=!0,o=!1,i=void 0;try{for(var s,c=n[Symbol.iterator]();!(e=(s=c.next()).done);e=!0){var u=s.value;t.next(u)}}catch(t){o=!0,i=t}finally{try{!e&&c.return&&c.return()}finally{if(o)throw i}}}t.complete()})}),catchError$1(function(t){return of_1(t).pipe(mergeMap$3(r.expandInterceptors(r.config.errorInterceptors)),mergeMap$3(function(t){return _throw_1(t)}))}))}},{key:"URL",get:function(){return""+this.config.baseURL+this.$route.join("/")}},{key:"queryParams",set:function(t){t&&(t instanceof URLSearchParams?this.$queryParams=t:this.$queryParams=objectToMap(new URLSearchParams,t))},get:function(){return this.$queryParams}},{key:"requestQueryParams",get:function(){var t=new URLSearchParams,e=!0,r=!1,o=void 0;try{for(var i,n=this.config.queryParams[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var s=i.value;t.append(s[0],s[1])}}catch(t){r=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw o}}var c=!0,u=!1,a=void 0;try{for(var h,l=this.queryParams[Symbol.iterator]();!(c=(h=l.next()).done);c=!0){var p=h.value;t.append(p[0],p[1])}}catch(t){u=!0,a=t}finally{try{!c&&l.return&&l.return()}finally{if(u)throw a}}var b=t.toString();return b.length?"?"+b:""}},{key:"headers",set:function(t){t&&(t instanceof Headers?this.$headers=t:this.$headers=objectToMap(new Headers,t))},get:function(){return this.$headers}},{key:"requestHeaders",get:function(){var t=new Headers,e=!0,r=!1,o=void 0;try{for(var i,n=this.headers[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var s=i.value;t.append(s[0],s[1])}}catch(t){r=!0,o=t}finally{try{!e&&n.return&&n.return()}finally{if(r)throw o}}var c=!0,u=!1,a=void 0;try{for(var h,l=this.config.headers[Symbol.iterator]();!(c=(h=l.next()).done);c=!0){var p=h.value;t.append(p[0],p[1])}}catch(t){u=!0,a=t}finally{try{!c&&l.return&&l.return()}finally{if(u)throw a}}return t}}]),t}(),RxRestItem=function(t){function e(t,r,o,i){classCallCheck(this,e);var n=possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o,t,i));n.$element={},void 0!==r&&(n.element=r);var s=new Proxy(n.$element,new RxRestProxyHandler(n));return possibleConstructorReturn(n,s)}return inherits(e,RxRest),createClass(e,[{key:"save",value:function(t,e){return this.queryParams=t,this.headers=e,this.request(!0===this.$fromServer?"PUT":"POST",this)}},{key:"plain",value:function(){return this.element}},{key:"json",value:function(){return JSON.stringify(this.plain())}},{key:"clone",value:function(){var t=this.$route;this.$element[this.config.identifier]&&(t=t.slice(0,this.$route.length-1));var r=new e(t,this.$element,this.config);return r.$fromServer=this.$fromServer,r}},{key:"element",set:function(t){for(var e in t)e!==this.config.identifier||this.$element[this.config.identifier]||this.$route.push(""+t[e]),this.$element[e]=t[e]},get:function(){return this.$element}}]),e}(),RxRestCollection=function(t){function e(t,r,o,i){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];classCallCheck(this,e);var s=possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,o,t,i));s.$elements=[],void 0!==r&&(s.elements=r.map(function(t){return t instanceof RxRestItem?t.clone():new RxRestItem(s.$route,t)})),s.$asIterable=n;var c=new Proxy(s.$elements,new RxRestProxyHandler(s));return possibleConstructorReturn(s,c)}return inherits(e,RxRest),createClass(e,[{key:Symbol.iterator,value:function(){var t=0,e=this.$elements;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"getList",value:function(t,e){return this.queryParams=t,this.headers=e,this.request("GET")}},{key:"plain",value:function(){return this.elements.map(function(t){return t.plain()})}},{key:"json",value:function(){return JSON.stringify(this.plain())}},{key:"clone",value:function(){return new e(this.$route,this.$elements,this.config)}},{key:"elements",set:function(t){this.$elements=t,this.length=t.length},get:function(){return this.$elements}}]),e}(),RxRest$1=function(){function t(e){classCallCheck(this,t),this.config=e}return createClass(t,[{key:"one",value:function(t,e){var r=new RxRest(this.config);return r.one.call(r,t,e)}},{key:"all",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new RxRest(this.config);return r.all.call(r,t,e)}},{key:"fromObject",value:function(t,e){var r=new RxRest(this.config);return r.fromObject.call(r,t,e)}}]),t}();exports.RxRestConfiguration=RxRestConfiguration$$1,exports.RxRestItem=RxRestItem,exports.RxRestCollection=RxRestCollection,exports.RxRest=RxRest$1;
//# sourceMappingURL=rxrest.bundle.min.js.map
